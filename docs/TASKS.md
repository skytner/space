# Задачи

См. объём и приоритеты в [PROJECT.md](./PROJECT.md).

---

## Спринт 1: Карта, лейаут, профиль, API

Цель: лейаут, карта 2D с маркерами, профиль по клику, данные с API или MSW.

### 1.1 Лейаут (apps/web)

- Оболочка приложения: шапка (при необходимости нав), основная область (карта), место под контент/профиль.
- Карта и профиль должны логично вписываться в лейаут (карта в основной зоне, профиль — страница или панель/модалка в том же лейауте).
- **Done:** единый лейаут используется на главной и на странице профиля; структура страницы читаемая.

### 1.2 Карта в Next.js (apps/web)

- Подключить интерактивную космическую карту на главной (2D — кастом Canvas/SVG).
- Для 3D позже — Three.js / React Three Fiber.
- **Done:** карта на `/`, панорама и зум; карта в отдельном компоненте.

### 1.3 API: список точек

- В `apps/api` (NestJS): `GET /points` (или `/markers`), ответ — JSON со списком точек.
- Пример: `{ "items": [ { "id": "1", "lat": 55.75, "lng": 37.62, "name": "...", "profileId": "1" } ] }`.
- Реализация без БД: хардкод или JSON-файл. Либо контракт описать и мокать на фронте (MSW).
- **Done:** контракт зафиксирован; либо эндпоинт отдаёт данные, либо MSW по тому же контракту.

### 1.4 CORS и порт API

- Если бэк поднят: CORS в NestJS для origin `apps/web`; порт API в конфиге и README.
- **Done:** запрос с Next.js к API без CORS-ошибки (или фронт на MSW, тогда — при переходе на бэк).

### 1.5 Маркеры на карте

- На странице с картой: при загрузке запрос к API (или MSW), отрисовка маркеров по координатам.
- **Done:** маркеры отображаются в верных координатах, данные по зафиксированному контракту.

### 1.6 Гостевой режим

- Без авторизации только просмотр карты и маркеров; в UI нет «добавить/редактировать».
- **Done:** страница карты доступна гостю, без элементов, требующих авторизации.

### 1.7 Профиль

- Клик по маркеру → страница профиля или модалка (имя, описание и др. поля по контракту).
- API: `GET /points/:id` или `GET /profiles/:id` — одна точка/профиль (реальный эндпоинт или MSW).
- **Done:** клик ведёт к отображению профиля в лейауте; данные с API или MSW.

---

## Порядок (рекомендуемый)

Лейаут и карта задают структуру; профиль и данные подключаются к ним.

1. **1.1** — лейаут.  
2. **1.2** — карта (если ещё не сделана).  
3. **1.3** — контракт API + эндпоинт или MSW.  
4. **1.4** — CORS (если бэк).  
5. **1.5** — маркеры на карте.  
6. **1.6** — гостевой режим.  
7. **1.7** — профиль.

---

## Следующий спринт (черновик)

- БД (SQLite/Postgres), точки и профили в БД.
- Docker: `docker-compose` для API + БД.
- Переключатель 2D/3D на карте.
